사용 모델: Gemini

Python 코드가 필요해. 기본 기능은 TXT 파일의 글자수 세기. TXT 파일은 UTF-8로 되어 있으며, 경전의 경문과 주석을 담고 있음. 다음 조건에 따라 글자 수를 센다.
1. input()을 통해 파일 이름을 입력받고, 그 파일의 글자 수를 센다. ".txt"를 쓰지 않아도 TXT 파일로 간주한다.
2. #로 시작하는 행은 무시한다.
3. Regex 기준 <[^>]+> 는 무시한다.
4. ¶와 /는 줄바꿈 표시이므로 무시한다.
5. 공백문자는 세지 않는다.
6. Regex 기준 &KR\d+; 문자열은 1개 글자로 간주한다.
7. 한 행 내에서 (와 ) 사이에 있는 글자는 주석이다. 나머지는 경문이다. 경문과 주석의 수는 따로 센다.
8. 내용이 있는 행 중 맨 마지막 행은 세지 않는다.
9. 수를 센 결과를 TSV 형식의 TXT 파일로 저장하고 다시 사용자의 input()을 받아서 작업을 반복한다. 새로운 집계 결과는 결과 파일에 새로운 행을 만들어서 추가한다.
10. 결과 파일은 파일명, 경문글자수, 주석글자수, 합계글자수 4개 열로 구성한다.